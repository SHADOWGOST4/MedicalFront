<div class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-sm p-8 rounded-3xl shadow-2xl border-t-8 blurred-background" style="border-top-color: var(--color-accent);">

        <div class="text-center mb-8">
            <img src="TRAUMANORTE.png" alt="Logo" class="logo-img-form">
            <h1 class="text-2xl font-bold mt-2" style="color: var(--color-text-dark);">Iniciar Sesión</h1>
            <p class="text-gray-500 text-sm mt-1">Accede a tu panel de afiliados y tienda.</p>
        </div>

        <form (ngSubmit)="handleLogin($event)">
            <div class="mb-5">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">C.C / Usuario</label>
                <input 
                    type="text" 
                    id="email" 
                    [(ngModel)]="email"
                    name="email"
                    placeholder="Cedula de Ciudadania" 
                    class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 input-focus-accent" 
                    required>
            </div>
            <div class="mb-8">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                <div class="relative flex items-center">
                    <input 
                        type="password" 
                        id="password" 
                        [(ngModel)]="password"
                        name="password"
                        placeholder="••••••••" 
                        class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 pr-10 input-focus-accent" 
                        required>
                    <button type="button" id="togglePassword" class="absolute right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 transition" title="Mostrar contraseña">
                        <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mostrar mensajes de error --> 
            <div *ngIf="errorMessage" class="mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm">
                {{ errorMessage }}
            </div>

			<!--
            <div class="text-right mb-6">
                <a href="#" class="text-sm font-medium hover:underline" style="color: var(--color-primary);">¿Olvidaste tu contraseña?</a>
            </div>
			-->

            <button 
                type="submit" 
                [disabled]="isLoading"
                class="btn-login w-full py-2.5 rounded-xl font-semibold shadow-lg transition duration-300 transform hover:scale-[1.01] disabled:opacity-50 disabled:cursor-not-allowed">
                {{ isLoading ? 'Cargando...' : 'Acceder a mi Cuenta' }}
            </button>
        </form>

        <!-- Botón Autocompletar para demo -->
        <div class="mt-4 text-center">
            <button 
                type="button"
                (click)="fillDemo()"
                class="text-sm text-secondary-med hover:underline font-medium">
                Autocompletar credenciales demo
            </button>
        </div>

        <div class="mt-8 text-center text-sm">
            <p class="text-gray-600">¿Aún no tienes cuenta? <a routerLink="/register" class="font-semibold hover:underline" style="color: var(--color-primary);">Regístrate aquí</a></p>
        </div>
    </div>

</div>
