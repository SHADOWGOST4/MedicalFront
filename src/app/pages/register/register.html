<div class="flex items-center justify-center min-h-screen p-6">
    <div class="w-full max-w-sm p-8 rounded-3xl shadow-2xl border-t-8 blurred-background" style="border-top-color: var(--color-accent);">
        <div class="text-center mb-8">
            <img src="TRAUMANORTE.png" alt="Logo" class="logo-img-form">
            <h1 class="text-2xl font-bold mt-2" style="color: var(--color-text-dark);">Regístrate</h1>
            <p class="text-gray-500 text-sm mt-1">Únete a la comunidad.</p>
        </div>

        <form (ngSubmit)="handleRegister($event)">
            <div class="mb-4">
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo</label>
                <input [(ngModel)]="name" name="name" type="text" id="name" placeholder="Tu nombre y apellido" class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 input-focus-accent" required>
            </div>
            <div class="mb-6">
                <label for="referral_id" class="block text-sm font-medium text-gray-700 mb-1">C.C</label>
                <input [(ngModel)]="cc" name="cc" type="text" id="referral_id" placeholder="Ej. 1077225715" class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 input-focus-accent" required>
            </div>
           <div class="mb-4">
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                <input [(ngModel)]="phone" name="phone" type="number" id="phone" placeholder="3023333333" class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 input-focus-accent" required>
            </div>
            <div class="mb-4"> 
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                <div class="relative flex items-center">
                    <input [(ngModel)]="password" name="password" type="password" id="password" placeholder="••••••••" class="w-full px-4 py-1.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 pr-10 input-focus-accent" required>
                    <button type="button" id="togglePassword" class="absolute right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 transition" title="Mostrar contraseña">
                        <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
            </div>

            <div *ngIf="errorMessage" class="mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm">
                {{ errorMessage }}
            </div>

            <button type="submit" class="btn-register w-full py-2.5 rounded-xl font-semibold shadow-lg transition duration-300 transform hover:scale-[1.01]" [disabled]="isLoading">
                {{ isLoading ? 'Guardando...' : 'Crear Mi Cuenta' }}
            </button>
        </form>

        <div class="mt-8 text-center text-sm">
            <p class="text-gray-600">¿Ya tienes una cuenta? <a routerLink="/login" class="font-semibold hover:underline" style="color: var(--color-primary);">Inicia Sesión aquí</a></p>
        </div>
    </div>
</div>
